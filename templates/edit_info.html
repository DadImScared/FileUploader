{% extends "layout.html" %}
{% from "macros.html" import render_field %}

{% block content %}
    <div class="container">
<!-- Nav tabs -->
<ul id="settings-tabs" class="nav nav-tabs row" role="tablist">
  <li class="touchElements nav-item col-xs-5 offset-xs-1 col-lg-3 offset-lg-1 text-xs-center">
    <a class="nav-link active" data-toggle="tab" id="home-nav" href="#home" role="tab">Name/Email</a>
  </li>
  <li class="nav-item col-xs-5 offset-xs-1 col-lg-3 offset-lg-2 text-xs-center">
    <a class="nav-link" id="profile-nav" data-toggle="tab" href="#profile" role="tab">Profile</a>
  </li>
</ul>

<!-- Tab panes -->
<div class="tab-content">
  <div class="tab-pane active row px-2" id="home" role="tabpanel">
      <div id="settings-background" class="col-xs-12 col-lg-6 offset-lg-3 mt-3">
          <div id="form-settings-background">
      <form  method="POST" class="form mt-2">
            {{ form.hidden_tag() }}
          <div class="form-group row">
              <div class="col-xs-12">
                {{ render_field(form.username, class="form-control", type="text") }}
              </div>
          </div>
          <div class="form-group row">
              <div class="col-xs-12">
                  {{ render_field(form.email, class="form-control", type="email") }}
              </div>
          </div>
          <div class="form-group row">
              <div class="col-xs-12">
                  {{ render_field(form.password, class="form-control") }}
              </div>
          </div>
            <button id="username-button" type="submit" class="btn btn-sm">Submit</button>
        </form>
              </div>
        </div>
  </div>
  <div class="tab-pane row px-2" id="profile" role="tabpanel">
      <div id="password-settings-background" class="col-xs-12 col-lg-6 offset-lg-3 mt-3">
          <div id="password-form-background">
      <form method="POST" class="form mt-2" action="{{ url_for('edit_password') }}">
          {{ form.hidden_tag() }}
          <div class="form-group row">
              <div class="col-xs-12">
                  {{ render_field(password_form.confirm_password, class="form-control", type='password') }}
              </div>
          </div>
          <div class="form-group row">
              <div class="col-xs-12">
                  {{ render_field(password_form.new_password, class="form-control", type='password') }}
              </div>
          </div>
          <div class="form-group row">
              <div class="col-xs-12">
                  {{ render_field(password_form.confirm_new_password, class="form-control", type='password') }}
              </div>
          </div>
          <button type="submit">Submit</button>
      </form>
              </div>
      </div>
  </div>
  <div class="tab-pane" id="messages" role="tabpanel">...</div>
  <div class="tab-pane" id="settings" role="tabpanel">...</div>
</div>

    </div>
{% endblock %}
{% block scripts %}
    <script>
    $('#username-button').click(function() {
        window.location.hash = "";
    });
    if (window.location.hash === "#profile") {
        $('#home-nav, #home').removeClass('active');
        $('#profile-nav, #profile').addClass('active');
    }
    </script>
{% endblock %}